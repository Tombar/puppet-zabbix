= Zabbix Puppet module =

== Installation ==

Place this in your Puppet installation's module directory

Rename files/my.cnf.example to files/my.cnf
Update the password line in files/my.cnf to reflect your zabbix user's mysql password


== Usage ==

1) Node must have $zabbix_server defined

$zabbix_server = "zabbixserver.domain"

2) Add agent class to node

include zabbix::agent

=== Added mysql checks to node ===
The mysql class inherits agent.

The checks in templates/userparameter_mysql_conf.erb are examples that are packaged with Zabbix

Additional checks can be added in the node definition.  This example adds a check for mediawiki user count

    $zabbix_mysql_user_parameters =  {
        item1 => { 'name' => 'mediawiki.usercount[*]', 'command' => 'mysql -B -s -e "SELECT count(*) FROM user" $1'},
    }   

include zabbix::mysql


